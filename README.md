# Парсер книг с сайта tululu.org
Скрипт предназначен для скачивания книг в формате .txt с сайта [tululu.org.](https://tululu.org)

# Установка

Для запуска программы у вас уже должен быть установлен Python 3.

- Скачайте код.
- Установите зависимости командой:

```Python
pip install -r requirements.txt
```

# Запуск

Запустите скрипт командой:

```
parse_tululu_category.py --start_page=0 --end_page=702
```

Указав значения аргументов `--start_page` и `--end_page`
  
# Возможные аргументы для передчи
- `--start_page=` - передать номер страницы, с которой начнется скачивание.
  * по умолчанию значение установлено `1`.
- `--end_page=` - передать номер id книги, на которой остановится скачивание.
  * по умолчанию значение установлено `701`.
- `--dest_folder` - путь к каталогу с результатами парсинга: картинкам, книгам, JSON.
  * по умолчанию `library`.
- `--skip_imgs` -  укажите, если ненужно скачивать картинки.
- `--skip_txt` - укажите, если ненужно скачивать книгу.
- `--json_path` - укажите название для json файла
  * по умолчанию `books_pages`

Все книги скачиваются в папку `ваше название папки\books` а обложки для этих книг в папку `ваше название папки\img`.

Если на сервере нет скачиваемой книги, то высветится сообщение:

![image](https://user-images.githubusercontent.com/106096891/186013373-d4f87ff8-2712-4b52-85b9-de8b6c7aa308.png)



# Архитектура JSON файла
JSON файл формируется следующим образом:
```
{
        'title': ,
        'author': ,
        'img_src': ,
        'book_path': ,
        'comments': ,
        'genres': 
    }
```

# Пример использования:
Скачиваем книги, и обложки к ним, со страницы `700` при этом оставляем папку для скачивания и название JSON файла по умолчанию:
```
python parse_tululu_category.py --start_page 700 --end_page 701
```

Скачиваем только обложки, со страницы `700`, при этом оставляем папку для скачивания и название JSON файла по умолчанию:
```
python parse_tululu_category.py --start_page 700 --end_page 701 --skip_txt
```

Скачиваем книги, и обложки к ним, со страницы `700` В папку books, JSON файл называем books_json:
```
python parse_tululu_category.py --start_page 700 --end_page 701 --dest_folder books --json_path books_json
```





